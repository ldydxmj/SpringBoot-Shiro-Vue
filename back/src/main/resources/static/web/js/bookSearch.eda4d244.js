(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bookSearch"],{"0130":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isShow?e("div",{staticClass:"LoadingComponent"},[e("van-loading",{staticClass:"loading",attrs:{color:t.loadingColor,size:"80px",vertical:!0}},[e("div",{staticClass:"soltWrap"},[t._t("default",[t._v("数据加载中...")])],2)])],1):t._e()},o=[],n=e("bd86"),i=(e("7f7f"),e("68ef"),e("543e")),c={props:{isShow:Boolean},data:function(){return{}},components:Object(n["a"])({},i["default"].name,i["default"]),computed:{loadingColor:function(){var t=this.$store.state.userChangeThreme.nowThemeInfo,a="";switch(t){case"color-theme-red":a="#f44336";break;case"color-theme-green":a="#4caf50";break;case"color-theme-blue":a="#2196f3";break;case"color-theme-pink":a="#e91e63";break;case"color-theme-yellow":a="#yellow";break;case"color-theme-orange":a="#ff9800";break;case"color-theme-gray":a="#gray";break;case"color-theme-black":a="#000";break;case"color-theme-violet":a="#b65bb6";break;default:a="#f44336";break}return a}},methods:{}},r=c,l=(e("afff"),e("2877")),d=Object(l["a"])(r,s,o,!1,null,"7909f2e2",null);a["a"]=d.exports},"01cb":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"adCard ml"},[e("div",{staticClass:"titleWarp flex align-items"},[e("img",{staticClass:"smallImg",attrs:{src:this.adData.cover_small_path}}),e("div",{staticClass:"title font16 ml"},[t._v(t._s(this.adData.title))])]),e("div",{staticClass:"des pt pb color6"},[t._v(t._s(this.adData.desc))]),e("div",{staticClass:"mianImgWrap"},[e("img",{staticClass:"mianImg",attrs:{src:this.adData.cover_big_path},on:{click:t.handleGoAd}}),e("span",{staticClass:"adFlag "},[t._v("广告")])]),e("div",{staticClass:"bottom"},[e("span",{staticClass:"bottomBtn pa ma ripple",on:{click:t.handleGoAd}},[t._v("查看详情")])])])},o=[],n=(e("b54a"),e("e7e5"),e("d399")),i=e("fa7d");i["g"];var c={data:function(){return{}},props:{adData:{}},mounted:function(){},components:{},methods:{routerPush:i["g"],handleGoAd:function(){var t=Object(i["b"])(this.adData);this.$store.dispatch("adsComponent/adClick",{postData:{ad_id:this.adData.id,category_id:this.adData.category_id,u:Object(i["c"])()},callback:function(){t?window.location.href=t:Object(n["default"])("没有跳转/下载链接")}}),this.adData.link?window.location.href=this.adData.link:Object(n["default"])("没有跳转/下载链接")}},computed:{}},r=c,l=(e("dfb4"),e("2877")),d=Object(l["a"])(r,s,o,!1,null,"2847df8b",null);a["a"]=d.exports},1146:function(t,a,e){},1549:function(t,a,e){"use strict";var s=e("b351"),o=e.n(s);o.a},"1cae":function(t,a,e){},2481:function(t,a,e){},2694:function(t,a,e){"use strict";var s=e("1cae"),o=e.n(s);o.a},2740:function(t,a,e){},2994:function(t,a,e){"use strict";e("68ef"),e("c0c2")},"2bdd":function(t,a,e){t.exports=e("86ab")(109)},3990:function(t,a,e){"use strict";e.r(a);var s,o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"bookSearch"},[e("LoadingComponent",{attrs:{isShow:t.loading}}),e("Header",{attrs:{isShowEmpty:!1}},[e("van-search",{staticClass:"box mr vSearch",attrs:{placeholder:"书名/作者","right-icon":"search","left-icon":""},on:{search:function(a){return t.onSearch(t.searchValue)},clear:t.onCancel,cancel:t.onCancel},model:{value:t.searchValue,callback:function(a){t.searchValue=a},expression:"searchValue"}},[e("div",{attrs:{slot:"right-icon"},on:{click:function(a){return t.onSearch(t.searchValue)}},slot:"right-icon"},[t._v("搜索")])])],1),t.isSearched?e("div",{staticClass:"main"},[e("div",{staticClass:"list pl pr pt"},[t.showList?e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.fetchList},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,function(t){return e("bookBlock",{key:t.id,attrs:{bookData:t,to:{}}})}),1):e("EmptyList")],1)]):e("div",{staticClass:"main"},[e("panel",{attrs:{panelName:"大家都在看",hasMore:!1}},[e("div",{staticClass:"panelContent list pl pb pr"},[t._l(t.jphcList,function(t){return e("bookItem",{key:t.id,attrs:{bookData:t,isSmall:!0}})}),e("van-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(a){return t.getDaJiaData({postData:{limit:8}})}}},[t._v("换一换")])],2)]),e("panel",{attrs:{panelName:"猜你喜欢",hasMore:!1}},[e("div",{staticClass:"panelContent listcolumn pl pb pr"},[t._l(t.cnxhList,function(t){return e("bookBlock",{key:t.id,attrs:{bookData:t}})}),e("van-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(a){return t.getGuessData({limit:5,type:1})}}},[t._v("换一换")])],2)]),t.adDataCard&&t.adDataCard.id?e("adCard",{attrs:{adData:t.adDataCard}}):t._e()],1)],1)},n=[],i=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),c=(e("2994"),e("2bdd")),r=(e("5852"),e("d961")),l=(e("7f7f"),e("66b9"),e("b650")),d=e("01cb"),u=e("fa7d"),f=e("efee"),h=e("bd61"),p=e("ad07"),b=e("0130"),m=e("2cf0"),g=e("ebde"),k=(e("fa68"),e("2f62"));function v(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,s)}return e}function C(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?v(e,!0).forEach(function(a){Object(i["a"])(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var y=Object(k["createNamespacedHelpers"])("bookSearch"),_=y.mapState,D=y.mapActions,S=y.mapMutations,w={name:"bookSearch",data:function(){return{}},components:(s={bookBlock:f["a"],bookItem:m["a"],Header:h["a"],LoadingComponent:b["a"],adCard:d["a"],EmptyList:g["a"],panel:p["a"]},Object(i["a"])(s,l["default"].name,l["default"]),Object(i["a"])(s,r["default"].name,r["default"]),Object(i["a"])(s,c["default"].name,c["default"]),s),mounted:function(){this.init(),Object(u["h"])("搜索")},computed:C({},_(["lastPage","pageNo","list","finished","isSearched","jphcList","cnxhList","loading","adDataCard"]),{loading:{get:function(){return this.$store.state.bookSearch.loading},set:function(){}},searchValue:{get:function(){return this.$store.state.bookSearch.searchInfo.k},set:function(t){var a=this.$store.state.bookSearch.searchInfo;a.k=t,this.setState({searchInfo:a})}},showList:function(){return this.list&&this.list.length}}),methods:C({},D(["getGuessData","getDaJiaData","getBookSearch","getAdsDetail"]),{},S(["setState"]),{init:function(){var t=this.$route.query;if(t.auther||t.title||t.keyword){var a={};t.auther&&(a.auther=t.auther),t.title&&(a.title=t.title),t.keyword&&(a.keyword=t.keyword),a.k="",this.getBookSearch({postData:C({},a,{page:1})})}else this.getGuessData({postData:{limit:5}}),this.getDaJiaData({postData:{limit:8}}),this.getAdsDetail({postData:{type:"adDataCard",category_id:9,u:Object(u["c"])()}})},onSearch:function(t){var a={k:t,page:1};this.getBookSearch({postData:a})},onCancel:function(){console.log("onCancel...");var t=this.$store.state.bookSearch.searchInfo;t.k="",this.setState({searchInfo:t,searchValue:""})},fetchList:function(){if(this.lastPage)return!1;var t=this.$store.state.bookSearch.searchInfo;console.log("TCL: fetchList -> searchInfo",t),t.page++,this.getBookSearch({postData:C({},t),isConcat:!0})}})},O=w,j=(e("2694"),e("ea18"),e("2877")),x=Object(j["a"])(O,o,n,!1,null,"064b8f85",null);a["default"]=x.exports},"543e":function(t,a,e){t.exports=e("86ab")(17)},5852:function(t,a,e){"use strict";e("68ef"),e("09fe"),e("1146"),e("f032")},8838:function(t,a,e){},afff:function(t,a,e){"use strict";var s=e("c6f5"),o=e.n(s);o.a},b351:function(t,a,e){},bd61:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("header",{class:["flex align-items fixed  justify-between"]},[e("svg",{staticClass:"icon icon-back",attrs:{"aria-hidden":"true"},on:{click:t.back}},[e("use",{attrs:{"xlink:href":"#iconback1"}})]),e("div",{class:["soltWarp",t.isShowEmpty?"soltWarpWidth":null]},[t._t("default")],2),"more_horiz"==t.moreType?e("i",{staticClass:"icon material-icons pr",on:{click:t.hadleMore}},[t._v("more_horiz")]):"dehaze"==t.moreType?e("i",{staticClass:"icon material-icons pr",on:{click:t.hadleMore}},[t._v("dehaze")]):"search"==t.moreType?e("svg",{staticClass:"icon icon-back mr icon-search",attrs:{"aria-hidden":"true"},on:{click:t.goSearch}},[e("use",{attrs:{"xlink:href":"#icon-search"}})]):t.isShowEmpty?e("span",{staticClass:"empty"}):t._e()])},o=[],n=e("fa7d"),i={props:{moreType:String,moreClick:Function,isShowEmpty:{type:Boolean,default:!0}},data:function(){return{}},components:{},computed:{},methods:{back:n["a"],hadleMore:function(){this.$emit("moreClick")},goSearch:function(){Object(n["g"])(this.$router,{path:"bookSearch",query:{}})}}},c=i,r=(e("1549"),e("2877")),l=Object(r["a"])(c,s,o,!1,null,"761ac363",null);a["a"]=l.exports},c0c2:function(t,a,e){},c6f5:function(t,a,e){},d0f4:function(t,a,e){"use strict";var s=e("2740"),o=e.n(s);o.a},d961:function(t,a,e){t.exports=e("86ab")(121)},dfb4:function(t,a,e){"use strict";var s=e("2481"),o=e.n(s);o.a},ea18:function(t,a,e){"use strict";var s=e("8838"),o=e.n(s);o.a},ebde:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"EmptyList"},[t._t("default",[e("div",{staticClass:"flex justify-center color9 wrap"},[e("svg",{staticClass:"icon icon-back iconStart",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#iconxingxing"}})]),e("div",{staticClass:"mt pt"},[t._v("~~列表空空的~~")]),e("div",{staticClass:"pa ma go",on:{click:t.goIndex}},[t._v("去逛逛")])])])],2)},o=[],n=e("fa7d"),i={props:{},data:function(){return{}},components:{},computed:{},methods:{goIndex:function(){Object(n["g"])(this.$router,{path:"/"})}}},c=i,r=(e("d0f4"),e("2877")),l=Object(r["a"])(c,s,o,!1,null,"063c5b90",null);a["a"]=l.exports},f032:function(t,a,e){}}]);