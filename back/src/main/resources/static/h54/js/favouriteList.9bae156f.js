(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["favouriteList"],{"0d00":function(t,i,e){},1146:function(t,i,e){},1403:function(t,i,e){"use strict";var n=e("43f6"),s=e.n(n);s.a},"28a5":function(t,i,e){"use strict";var n=e("aae3"),s=e("cb7c"),a=e("ebd6"),o=e("0390"),c=e("9def"),l=e("5f1b"),r=e("520a"),u=e("79e5"),d=Math.min,f=[].push,h="split",p="length",v="lastIndex",m=4294967295,b=!u((function(){RegExp(m,"y")}));e("214f")("split",2,(function(t,i,e,u){var g;return g="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,i){var s=String(this);if(void 0===t&&0===i)return[];if(!n(t))return e.call(s,t,i);var a,o,c,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,h=void 0===i?m:i>>>0,b=new RegExp(t.source,u+"g");while(a=r.call(b,s)){if(o=b[v],o>d&&(l.push(s.slice(d,a.index)),a[p]>1&&a.index<s[p]&&f.apply(l,a.slice(1)),c=a[0][p],d=o,l[p]>=h))break;b[v]===a.index&&b[v]++}return d===s[p]?!c&&b.test("")||l.push(""):l.push(s.slice(d)),l[p]>h?l.slice(0,h):l}:"0"[h](void 0,0)[p]?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,n){var s=t(this),a=void 0==e?void 0:e[i];return void 0!==a?a.call(e,s,n):g.call(String(s),e,n)},function(t,i){var n=u(g,t,this,i,g!==e);if(n.done)return n.value;var r=s(t),f=String(this),h=a(r,RegExp),p=r.unicode,v=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(b?"y":"g"),C=new h(b?r:"^(?:"+r.source+")",v),k=void 0===i?m:i>>>0;if(0===k)return[];if(0===f.length)return null===l(C,f)?[f]:[];var x=0,w=0,S=[];while(w<f.length){C.lastIndex=b?w:0;var j,y=l(C,b?f:f.slice(w));if(null===y||(j=d(c(C.lastIndex+(b?0:w)),f.length))===x)w=o(f,w,p);else{if(S.push(f.slice(x,w)),S.length===k)return S;for(var O=1;O<=y.length-1;O++)if(S.push(y[O]),S.length===k)return S;w=x=j}}return S.push(f.slice(x)),S}]}))},2994:function(t,i,e){"use strict";e("68ef"),e("e3b3"),e("c0c2")},"2bdd":function(t,i,e){t.exports=e("86ab")(109)},"2ed4":function(t,i,e){t.exports=e("86ab")(132)},"43f6":function(t,i,e){},5353:function(t,i,e){"use strict";var n,s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"hfooter flex justify-between align-items justify-between pa"},[e("div",{class:["item ripple",t.isCate?"on":null],on:{click:function(i){return t.handleClick({path:"/favouriteList",query:{}})}}},[t.isCate?e("i",{staticClass:"icon"},[e("i",{staticClass:"icon-on icon-i2"})]):e("i",{staticClass:"icon icon-i1"}),e("span",{staticClass:"text"},[t._v("书架")])]),e("div",{class:["item ripple",t.isIndex?"on":null],on:{click:function(i){return t.handleClick({path:"/",query:{}})}}},[t.isIndex?e("i",{staticClass:"icon"},[e("i",{staticClass:"icon-on icon-i4"})]):e("i",{staticClass:"icon icon-i3"}),e("span",{staticClass:"text"},[t._v("书城")])]),e("div",{class:["item ripple",t.isUser?"on":null],on:{click:function(i){return t.handleClick({path:"/user",query:{}})}}},[t.isUser?e("i",{staticClass:"icon"},[e("i",{staticClass:"icon-on icon-i6"})]):e("i",{staticClass:"icon icon-i5"}),e("span",{staticClass:"text"},[t._v("我的")])])])},a=[],o=e("bd86"),c=(e("68ef"),e("9d70"),e("3743"),e("ae73"),e("2ed4")),l=(e("7f7f"),e("9312"),e("ac28")),r=e("fa7d");e("20d6"),e("ac6a"),e("28a5");function u(t,i){var e=[];return"string"===typeof i?e=i.split(","):i.forEach((function(t){e.push(t)})),e.findIndex((function(i){return t===i}))>=0}var d={props:{},data:function(){return{}},components:(n={},Object(o["a"])(n,l["default"].name,l["default"]),Object(o["a"])(n,c["default"].name,c["default"]),n),computed:{isIndex:function(){return u(this.$route.path,["/"])},isCate:function(){return u(this.$route.path,["/favouriteList","/index"])},isMyTravesty:function(){return u(this.$route.path,["/myTravesty","/myReadHistory"])},isUser:function(){return u(this.$route.path,["/user"])}},methods:{handleClick:function(t){var i=this.$route.path;i!==t.path&&Object(r["j"])(this.$router,t)}}},f=d,h=(e("ce44"),e("2877")),p=Object(h["a"])(f,s,a,!1,null,"39300f7d",null);i["a"]=p.exports},5852:function(t,i,e){"use strict";e("68ef"),e("9d70"),e("3743"),e("1a04"),e("1146"),e("f032")},6032:function(t,i,e){"use strict";e.r(i);var n,s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"favouriteList"},[e("LoadingComponent",{attrs:{isShow:t.loading}}),e("div",{staticClass:"top"},[e("Header",{attrs:{isMarginLeft:!1}},[e("div",{staticClass:"flex align-items"},[e("div",{staticClass:"box flex justify-center"},[e("div",{staticClass:"box flex justify-center"},[t._v("我的书架")]),e("svg",{staticClass:"icon iconRight",attrs:{"aria-hidden":"true"},on:{click:t.goSearch}},[e("use",{attrs:{"xlink:href":"#icon-search"}})])]),t.isShowClear?e("span",{staticClass:"mr ripple",on:{click:function(i){t.isShowClear=!t.isShowClear}}},[t._v("完成")]):e("svg",{staticClass:"icon iconRight ripple",attrs:{"aria-hidden":"true"},on:{click:t.handleShow}},[e("use",{attrs:{"xlink:href":"#icon-plus1"}})])])])],1),e("div",{staticClass:"main"},[e("div",{staticClass:"listWarp pl pr"},[t.showList&&t.isGrid?e("van-list",{staticClass:"gridClass",attrs:{finished:t.finished,"finished-text":""},on:{load:t.fetchList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,(function(i){return e("bookItem",{key:i.id,attrs:{isSmall:t.isSmall,isShowClear:t.isShowClear,bookData:i,kind:2,goType:1},on:{emitGo:t.emitGo,delFavourite:t.delFavourite,selectChange:t.selectChange}})})),1):t.showList&&!t.isGrid?e("van-list",{attrs:{finished:t.finished,"finished-text":""},on:{load:t.fetchList},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,(function(i){return e("listItem",{key:i.id,attrs:{isSmall:t.isSmall,isShowClear:t.isShowClear,bookData:i,kind:2,goType:1},on:{emitGo:t.emitGo,delFavourite:t.delFavourite,selectChange:t.selectChange}})})),1):e("EmptyList",[e("div",[e("div",{staticClass:"flex justify-center color6 font18 label"},[t._v("用您喜欢的小说装满书架吧")]),e("div",{staticClass:"plusWrap ripple flex align-items justify-center",on:{click:t.goIndex}},[e("svg",{staticClass:"iconPlus icon"},[e("use",{attrs:{"xlink:href":"#icon-plus1"}})])])])])],1)]),t.isShowClear?e("div",{staticClass:"mFooter flex align-items"},[e("div",{staticClass:"box",on:{click:t.checkAll}},[t._v("全选")]),e("div",{staticClass:"box",on:{click:t.doDel}},[t._v("删除"+t._s(t.selectListLength?"("+t.selectListLength+")":null))])]):e("Footer"),e("Pop",{attrs:{isGrid:t.isGrid,isSmall:t.isSmall,showPop:t.showPoup},on:{handleClick:t.handleViewChange,colsePop:t.colsePop}})],1)},a=[],o=(e("8e6e"),e("456d"),e("e7e5"),e("d399")),c=(e("ac6a"),e("20d6"),e("bd86")),l=(e("2994"),e("2bdd")),r=(e("7f7f"),e("5852"),e("d961")),u=e("fa7d"),d=e("0130"),f=e("5353"),h=e("63de"),p=e("2cf0"),v=e("ebde"),m=e("bd61"),b=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"pop"},[e("van-popup",{staticClass:"vPop",attrs:{"close-on-click-overlay":!1,position:"bottom"},on:{close:t.closePop},model:{value:t.showPopComputed,callback:function(i){t.showPopComputed=i},expression:"showPopComputed"}},[e("ul",{staticClass:"pl pt pb ml"},[e("li",[t._v("请选型")]),e("li",{on:{click:function(i){return t.handleClick(0)}}},[t._v("整理书架")]),e("li",{class:[t.isGrid||t.isSmall?null:"on"],on:{click:function(i){return t.handleClick(1)}}},[t._v("切换视图-列表模式-正常")]),e("li",{class:[!t.isGrid&&t.isSmall?"on":null],on:{click:function(i){return t.handleClick(2)}}},[t._v("切换视图-列表模式-小号")]),e("li",{class:[t.isGrid&&!t.isSmall?"on":null],on:{click:function(i){return t.handleClick(3)}}},[t._v("切换视图-九宫格-正常")]),e("li",{class:[t.isGrid&&t.isSmall?"on":null],on:{click:function(i){return t.handleClick(4)}}},[t._v("切换视图-九宫格-小号")])]),e("div",{staticClass:"cancle ma pa",on:{click:t.closePop}},[t._v("取消")])])],1)},g=[],C=(e("8a58"),e("e41f")),k={props:{isGrid:Boolean,isSmall:Boolean,showPop:Boolean,colsePop:Function},data:function(){return{}},components:Object(c["a"])({},C["default"].name,C["default"]),computed:{showPopComputed:{get:function(){return this.showPop},set:function(){}}},methods:{closePop:function(){this.$emit("colsePop")},handleClick:function(t){this.$emit("handleClick",t)}}},x=k,w=(e("efd4"),e("2877")),S=Object(w["a"])(x,b,g,!1,null,"202116da",null),j=S.exports,y=(e("fa68"),e("2f62")),O=e("b738"),P=e.n(O);function _(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?_(Object(e),!0).forEach((function(i){Object(c["a"])(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):_(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var D=new P.a,G=Object(y["createNamespacedHelpers"])("favouriteList"),E=G.mapState,I=G.mapActions,$=G.mapMutations,F={name:"favouriteList",data:function(){return{showPoup:!1,isGrid:!1,isSmall:!1,isShowClear:!1}},inject:["isLogin"],components:(n={Footer:f["a"],Header:m["a"],EmptyList:v["a"],listItem:h["a"],bookItem:p["a"],Pop:j,LoadingComponent:d["a"]},Object(c["a"])(n,r["default"].name,r["default"]),Object(c["a"])(n,l["default"].name,l["default"]),n),mounted:function(){this.init()},computed:L({},E(["list","finished","loading","postData","pagination"]),{loading:{get:function(){return this.$store.state.favouriteList.loading},set:function(){}},showList:function(){return this.list&&this.list.length},selectListLength:function(){var t=this.list.filter((function(t){return t.selected}));return t.length}}),methods:L({},I(["getDataAction","delSubscribe"]),{},$(["setState"]),{init:function(){this.isLogin(!0)&&(this.getDataAction({postData:this.postData}),Object(u["k"])("书架"))},emitGo:function(t){var i=this.list,e=i.findIndex((function(i){return i.id===t.id}));e>-1&&(i[e].isUpadte=!1),D.set("locationFavouriteList",i)},goSearch:function(){Object(u["j"])(this.$router,{path:"bookSearch",query:{}})},colsePop:function(){this.showPoup=!1},handleShow:function(){this.showPoup=!0},fetchList:function(){},handleViewChange:function(t){0===t&&(this.isShowClear=!0),1===t&&(this.isGrid=!1,this.isSmall=!1),2===t&&(this.isGrid=!1,this.isSmall=!0),3===t&&(this.isGrid=!0,this.isSmall=!1),4===t&&(this.isGrid=!0,this.isSmall=!0),this.colsePop()},goIndex:function(){Object(u["j"])(this.$router,{path:"/",query:{}})},selectChange:function(t){var i=this.list;i.forEach((function(i){i.id===t&&(i.selected=!i.selected)})),this.setState({list:i})},delFavourite:function(t){var i=this;this.isLogin()&&(t?this.delSubscribe({postData:{novel_ids:t.id,action:"del"},callback:function(){Object(o["default"])("删除成功!"),i.getDataAction({postData:i.postData})}}):Object(o["default"])("没有要删除的书本"))},doDel:function(){var t=this,i=this.list.filter((function(t){return t.selected}));this.isLogin()&&(i&&0==i.length?Object(o["default"])("请选择要删除的书本!"):(i=i.map((function(t){return t.id})),this.delSubscribe({postData:{novel_ids:i.join(","),action:"del"},callback:function(){Object(o["default"])("删除成功!"),t.getDataAction({postData:t.postData})}})))},checkAll:function(){var t=this.list;t.every((function(t){return!0===t.selected}))?t.forEach((function(t){t.selected=!1})):t.forEach((function(t){t.selected=!0})),this.setState({list:t})}})},A=F,R=(e("9aa7"),e("1403"),Object(w["a"])(A,s,a,!1,null,"00ec4204",null));i["default"]=R.exports},9312:function(t,i,e){},"9aa7":function(t,i,e){"use strict";var n=e("e2a9"),s=e.n(n);s.a},a8c4:function(t,i,e){},ac28:function(t,i,e){t.exports=e("86ab")(131)},ae73:function(t,i,e){},c0c2:function(t,i,e){},ce44:function(t,i,e){"use strict";var n=e("dac0"),s=e.n(n);s.a},d0f4:function(t,i,e){"use strict";var n=e("a8c4"),s=e.n(n);s.a},d961:function(t,i,e){t.exports=e("86ab")(121)},dac0:function(t,i,e){},e2a9:function(t,i,e){},ebde:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"EmptyList"},[t._t("default",[e("div",{staticClass:"flex justify-center color9 wrap"},[e("svg",{staticClass:"icon icon-back iconStart",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#iconxingxing"}})]),e("div",{staticClass:"mt pt"},[t._v("~~列表空空的~~")]),e("div",{staticClass:"pa ma go",on:{click:t.goIndex}},[t._v("去逛逛")])])])],2)},s=[],a=e("fa7d"),o={props:{},data:function(){return{}},components:{},computed:{},methods:{goIndex:function(){Object(a["j"])(this.$router,{path:"/"})}}},c=o,l=(e("d0f4"),e("2877")),r=Object(l["a"])(c,n,s,!1,null,"063c5b90",null);i["a"]=r.exports},efd4:function(t,i,e){"use strict";var n=e("0d00"),s=e.n(n);s.a},f032:function(t,i,e){}}]);