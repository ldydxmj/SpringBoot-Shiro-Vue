(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["userLogin"],{"0130":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShow?n("div",{staticClass:"LoadingComponent"},[n("van-loading",{staticClass:"loading",attrs:{color:t.loadingColor,size:"80px",vertical:!0}},[n("div",{staticClass:"soltWrap"},[t._t("default",[t._v("数据加载中...")])],2)])],1):t._e()},o=[],i=n("bd86"),s=(n("7f7f"),n("ac1e"),n("543e")),c=n("fa7d"),r={props:{isShow:Boolean},data:function(){return{}},components:Object(i["a"])({},s["default"].name,s["default"]),computed:{loadingColor:function(){var t=this.$store.state.userChangeThreme.nowThemeInfo,e=Object(c["d"])(t);return e}},methods:{}},l=r,u=(n("13ef"),n("2877")),f=Object(u["a"])(l,a,o,!1,null,"0768c5f8",null);e["a"]=f.exports},"0653":function(t,e,n){"use strict";n("68ef"),n("5c56")},1146:function(t,e,n){},"13ef":function(t,e,n){"use strict";var a=n("c431"),o=n.n(a);o.a},"1a04":function(t,e,n){},"34e9":function(t,e,n){t.exports=n("86ab")(39)},"543e":function(t,e,n){t.exports=n("86ab")(17)},"565f":function(t,e,n){t.exports=n("86ab")(18)},"56bf":function(t,e,n){"use strict";var a=n("a4ff"),o=n.n(a);o.a},"5c56":function(t,e,n){},"66b9":function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("e3b3"),n("bc1b")},7744:function(t,e,n){t.exports=n("86ab")(10)},"9d36":function(t,e,n){"use strict";var a=n("a7d8"),o=n.n(a);o.a},a4ff:function(t,e,n){},a7d8:function(t,e,n){},ac1e:function(t,e,n){"use strict";n("68ef"),n("e3b3")},b43f:function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userLogin"},[n("LoadingComponent",{attrs:{isShow:t.loading}}),n("Header",[n("span",{staticClass:"pl flex justify-center"},[t._v("登录注册")])]),n("div",{staticClass:"main"},[n("van-cell-group",[n("van-field",{staticClass:"inputBase forminput",attrs:{label:"手机号","left-icon":"user-o",placeholder:"请输入手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),n("van-field",{staticClass:"inputBase forminput",attrs:{clearable:"",label:"验证码","left-icon":"eye-o",placeholder:"请输入短信验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[n("van-button",{attrs:{slot:"button",disabled:t.disable,size:"small",type:"primary"},on:{click:t.getQrCode},slot:"button"},[t._v("发送验证码"+t._s(t.showCountDown?t.count:null))])],1)],1),n("div",{staticClass:"flex align-items ripple justify-center mt  vBatton",on:{click:t.handleClick}},[t._v("\n           登录\n        ")]),n("div",{staticClass:"flex justify-center ma pa color9"},[t._v("\n            点击注册/登录，即表示您同意\n            "),n("span",{staticClass:"yellow",on:{click:t.goUserProtocol}},[t._v("《用户协议》")])])],1)],1)},i=[],s=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),c=(n("be7f"),n("565f")),r=(n("0653"),n("34e9")),l=(n("c194"),n("7744")),u=(n("7f7f"),n("66b9"),n("b650")),f=n("fa7d"),d=(n("fa68"),n("bd61")),p=n("0130"),b=n("2f62"),h=n("b738"),m=n.n(h);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=new m.a,O=60,y=Object(b["createNamespacedHelpers"])("userLogin"),k=y.mapState,C=y.mapActions,w=(y.mapMutations,{name:"userLogin",data:function(){return{phone:"",code:"",count:O,disable:!1}},components:(a={Header:d["a"]},Object(s["a"])(a,u["default"].name,u["default"]),Object(s["a"])(a,l["default"].name,l["default"]),Object(s["a"])(a,"LoadingComponent",p["a"]),Object(s["a"])(a,r["default"].name,r["default"]),Object(s["a"])(a,c["default"].name,c["default"]),a),mounted:function(){Object(f["k"])("登录"),this.init()},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},computed:g({},k(["loading","code_url"]),{session_id:function(){var t=j.get("userInfo");return t.session_id},showCountDown:function(){return this.disable}}),methods:g({},C(["userLogin","getVerifyCode"]),{back:f["a"],changeCha:function(){},init:function(){var t=j.get("codeButtonIsDisable");"true"!==t&&!0!==t||(this.disable=!0)},getQrCode:function(){var t=this;if(this.phone){var e=/^1[0-9]{10}$/;if(e.test(this.phone)){var n=j.get("codeButtonIsDisable");!0!==n&&"true"!==n?(j.set("codeButtonIsDisable",!0,{exp:O}),this.disable=!0,this.timer=setInterval((function(){t.count>0?t.count--:(clearInterval(t.timer),t.disable=!1,t.count=O)}),1e3),this.getVerifyCode({postData:{phone:this.phone}})):this.$toast("验证码已发送，请勿重复操作")}else this.$toast("手机号不合法！")}else this.$toast("请输入手机号！")},goUserProtocol:function(){Object(f["j"])(this.$router,{path:"/userProtocol",query:{}})},goIndex:function(){Object(f["j"])(this.$router,{path:"/",query:{}})},handleClick:function(){var t=this;if(this.phone){var e=/^1[0-9]{10}$/;e.test(this.phone)?this.code?this.userLogin({postData:{code:this.code,phone:this.phone},callback:function(e){null!==e.data?(j.set("userInfo",e.data),j.set("token",e.data.token),t.$toast("登录成功即将跳转到首页..."),setTimeout((function(){Object(f["j"])(t.$router,{path:"/",query:{}})}),500)):t.$toast("登录失败")}}):this.$toast("请输入验证码"):this.$toast("手机号不合法！")}else this.$toast("请输入手机号！")},handleCancle:function(){this.back()}})}),_=w,x=(n("56bf"),n("2877")),$=Object(x["a"])(_,o,i,!1,null,"92cb5044",null);e["default"]=$.exports},b650:function(t,e,n){t.exports=n("86ab")(11)},bc1b:function(t,e,n){},bd61:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{class:["flex align-items fixed  "]},[1===t.backType?n("svg",{staticClass:"icon icon-back ml mr ripple",attrs:{"aria-hidden":"true"},on:{click:t.handleBack}},[n("use",{attrs:{"xlink:href":"#icon-back"}})]):t._e(),2===t.backType?n("span",{}):t._e(),n("div",{class:[t.isWidth100?"solrWrap100":"solrWrap",t.isMarginLeft?"isMarginLeft":null,t.isMarginRight?"isMarginRight":null]},[t._t("default")],2)])},o=[],i=(n("c5f6"),n("fa7d")),s={props:{backType:{type:Number,default:1},isMarginLeft:{type:Boolean,default:!0},isMarginRight:{type:Boolean,default:!1},isWidth100:{type:Boolean,default:!1},isSpecialBack:{type:Boolean,default:!1}},data:function(){return{}},components:{},computed:{},methods:{back:i["a"],handleBack:function(){this.isSpecialBack?this.$emit("back"):this.back()}}},c=s,r=(n("9d36"),n("2877")),l=Object(r["a"])(c,a,o,!1,null,"67a0033a",null);e["a"]=l.exports},be7f:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04"),n("1146")},c194:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04")},c431:function(t,e,n){}}]);